{"remainingRequest":"D:\\数瀛信息科技\\公司项目\\广州西门子原材料立体库\\低压线圈\\src\\LES.Vue\\node_modules\\babel-loader\\lib\\index.js!D:\\数瀛信息科技\\公司项目\\广州西门子原材料立体库\\低压线圈\\src\\LES.Vue\\src\\Auth\\UserAuth.js","dependencies":[{"path":"D:\\数瀛信息科技\\公司项目\\广州西门子原材料立体库\\低压线圈\\src\\LES.Vue\\src\\Auth\\UserAuth.js","mtime":1610332596000},{"path":"D:\\数瀛信息科技\\公司项目\\广州西门子原材料立体库\\低压线圈\\src\\LES.Vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\数瀛信息科技\\公司项目\\广州西门子原材料立体库\\低压线圈\\src\\LES.Vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"D:\\\\\\u6570\\u701B\\u4FE1\\u606F\\u79D1\\u6280\\\\\\u516C\\u53F8\\u9879\\u76EE\\\\\\u5E7F\\u5DDE\\u897F\\u95E8\\u5B50\\u539F\\u6750\\u6599\\u7ACB\\u4F53\\u5E93\\\\\\u4F4E\\u538B\\u7EBF\\u5708\\\\src\\\\LES.Vue\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport applicationUserManager from \"./applicationusermanager\";\nvar userAuth = {\n  data: function data() {\n    return {\n      user: {\n        name: \"\",\n        isAuthenticated: false\n      }\n    };\n  },\n  methods: {\n    refreshUserInfo: function () {\n      var _refreshUserInfo = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var user;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return applicationUserManager.getUser();\n\n              case 2:\n                user = _context.sent;\n\n                if (user) {\n                  this.user.name = user.profile.name;\n                  this.user.isAuthenticated = true;\n                } else {\n                  this.user.name = \"\";\n                  this.user.isAuthenticated = false;\n                }\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function refreshUserInfo() {\n        return _refreshUserInfo.apply(this, arguments);\n      }\n\n      return refreshUserInfo;\n    }()\n  },\n  created: function () {\n    var _created = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee2() {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return this.refreshUserInfo();\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function created() {\n      return _created.apply(this, arguments);\n    }\n\n    return created;\n  }()\n};\nexport default userAuth;",{"version":3,"sources":["D:\\数瀛信息科技\\公司项目\\广州西门子原材料立体库\\低压线圈\\src\\LES.Vue\\src\\Auth\\UserAuth.js"],"names":["applicationUserManager","userAuth","data","user","name","isAuthenticated","methods","refreshUserInfo","getUser","profile","created"],"mappings":";;;AAAA,OAAOA,sBAAP,MAAmC,0BAAnC;AACA,IAAMC,QAAQ,GAAG;AACfC,EAAAA,IADe,kBACR;AACL,WAAO;AACLC,MAAAA,IAAI,EAAE;AACJC,QAAAA,IAAI,EAAE,EADF;AAEJC,QAAAA,eAAe,EAAE;AAFb;AADD,KAAP;AAMD,GARc;AASfC,EAAAA,OAAO,EAAE;AACDC,IAAAA,eADC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEcP,sBAAsB,CAACQ,OAAvB,EAFd;;AAAA;AAECL,gBAAAA,IAFD;;AAGL,oBAAIA,IAAJ,EAAU;AACR,uBAAKA,IAAL,CAAUC,IAAV,GAAiBD,IAAI,CAACM,OAAL,CAAaL,IAA9B;AACA,uBAAKD,IAAL,CAAUE,eAAV,GAA4B,IAA5B;AACD,iBAHD,MAGO;AACL,uBAAKF,IAAL,CAAUC,IAAV,GAAiB,EAAjB;AACA,uBAAKD,IAAL,CAAUE,eAAV,GAA4B,KAA5B;AACD;;AATI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,GATM;AAqBTK,EAAAA,OArBS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAsBP,KAAKH,eAAL,EAtBO;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,CAAjB;AAyBA,eAAeN,QAAf","sourcesContent":["import applicationUserManager from \"./applicationusermanager\";\nconst userAuth = {\n  data() {\n    return {\n      user: {\n        name: \"\",\n        isAuthenticated: false\n      }\n    };\n  },\n  methods: {\n    async refreshUserInfo() {\n      const user = await applicationUserManager.getUser();\n      if (user) {\n        this.user.name = user.profile.name;\n        this.user.isAuthenticated = true;\n      } else {\n        this.user.name = \"\";\n        this.user.isAuthenticated = false;\n      }\n    }\n  },\n  async created() {\n    await this.refreshUserInfo();\n  }\n};\nexport default userAuth;\n"]}]}