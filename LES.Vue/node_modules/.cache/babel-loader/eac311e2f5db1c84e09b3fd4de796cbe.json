{"remainingRequest":"D:\\数瀛信息科技\\公司项目\\广州西门子原材料立体库\\低压线圈\\src\\LES.Vue\\node_modules\\babel-loader\\lib\\index.js!D:\\数瀛信息科技\\公司项目\\广州西门子原材料立体库\\低压线圈\\src\\LES.Vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\数瀛信息科技\\公司项目\\广州西门子原材料立体库\\低压线圈\\src\\LES.Vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\数瀛信息科技\\公司项目\\广州西门子原材料立体库\\低压线圈\\src\\LES.Vue\\src\\views\\Welcome copy.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\数瀛信息科技\\公司项目\\广州西门子原材料立体库\\低压线圈\\src\\LES.Vue\\src\\views\\Welcome copy.vue","mtime":1610933839230},{"path":"D:\\数瀛信息科技\\公司项目\\广州西门子原材料立体库\\低压线圈\\src\\LES.Vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\数瀛信息科技\\公司项目\\广州西门子原材料立体库\\低压线圈\\src\\LES.Vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\数瀛信息科技\\公司项目\\广州西门子原材料立体库\\低压线圈\\src\\LES.Vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\数瀛信息科技\\公司项目\\广州西门子原材料立体库\\低压线圈\\src\\LES.Vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Vue from \"vue\";\nimport VCharts from \"v-charts\";\nVue.use(VCharts);\nimport applicationUserManager from \"../Auth/applicationusermanager\";\nimport { getServerInfo, getAccessLogs, getIds4UsersGrow, getActiveUsers, getAchieveUsers_IS4 } from \"../api/api\";\nexport default {\n  name: \"Welcome\",\n  data: function data() {\n    return {\n      listLoading: false,\n      welcomeInitData: {},\n      serverInfo: {},\n      extend: {\n        series: {\n          label: {\n            normal: {\n              show: true\n            }\n          }\n        }\n      },\n      lineChartDataIDS4: {\n        columns: [],\n        rows: [],\n        today: 0\n      },\n      lineChartSettings7Day: {\n        metrics: [\"count\"],\n        dimension: [\"date\"]\n      },\n      lineChartMarkPoint: {\n        data: [{\n          name: \"最大值\",\n          type: \"max\"\n        }, {\n          name: \"最小值\",\n          type: \"min\"\n        }]\n      }\n    };\n  },\n  methods: {\n    getBck: function getBck(index) {\n      return \"background: rgb(\".concat(43 + index * 20, \", \").concat(148 + index * 10, \", 255) none repeat scroll 0% 0%;\");\n    },\n    toLogs: function toLogs() {\n      this.$router.replace({\n        path: \"/Logs/Index\"\n      });\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    var curTime = new Date();\n\n    if (window.localStorage.TokenExpire) {\n      var expiretime = new Date(Date.parse(window.localStorage.TokenExpire));\n\n      if (curTime >= expiretime) {\n        if (global.IS_IDS4) {\n          applicationUserManager.login();\n        } else {\n          this.$router.push(\"/login\");\n        }\n      }\n    } else {\n      if (global.IS_IDS4) {\n        applicationUserManager.login();\n      } else {\n        this.$router.push(\"/login\");\n      }\n    }\n\n    getAchieveUsers_IS4({}).then(function (res) {\n      _this.lineChartDataIDS4 = res.data.response;\n    });\n    getServerInfo({}).then(function (res) {\n      _this.serverInfo = res.data.response;\n    });\n    getActiveUsers({}).then(function (res) {\n      _this.welcomeInitData = res.data.response;\n    });\n  }\n};",{"version":3,"sources":["Welcome copy.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div style=\"margin-top: 30px;\">\n    <el-row class=\"panel-group\">\n      <el-col class=\"card-panel-col\" style=\"float: left;width: calc(96% - 430px);margin: 0;\">\n        <el-card class=\"welcome-card activeuser note\">\n          <div slot=\"header\" class=\"clearfix\">\n            <span>今日活跃用户</span>\n          </div>\n\n          <div\n            class=\"bg-color-sub\"\n            style=\"background: rgb(236, 245, 255) none repeat scroll 0% 0%;\"\n          >\n            <div\n              v-for=\"(item,index) in welcomeInitData.activeUsers\"\n              :key=\"item.user+index\"\n              class=\"bg-blue-sub-item\"\n              :style=\"getBck(index)\"\n            >{{item.user}}</div>\n          </div>\n        </el-card>\n      </el-col>\n      <el-col class=\"card-panel-col\">\n        <div class=\"card-panel\">\n          <div class=\"card-panel-description\">\n            <div class=\"card-panel-text\">今日活跃</div>\n            <span\n              data-v-6723c96e\n              class=\"card-acuser-num\"\n            >{{welcomeInitData.activeUserCount>9 ? welcomeInitData.activeUserCount:'0'+welcomeInitData.activeUserCount}}</span>\n          </div>\n        </div>\n      </el-col>\n      <el-col class=\"card-panel-col\">\n        <div class=\"card-panel\">\n          <div class=\"card-panel-description\">\n            <div class=\"card-panel-text\">今日新增</div>\n            <span\n              data-v-6723c96e\n              class=\"card-acuser-num\"\n            >{{lineChartDataIDS4.today>9 ? lineChartDataIDS4.today:'0'+lineChartDataIDS4.today}}</span>\n          </div>\n        </div>\n      </el-col>\n      <el-col class=\"card-panel-col\">\n        <div class=\"card-panel extoday\" @click=\"toLogs\">\n          <div class=\"card-panel-description\">\n            <div class=\"card-panel-text\">今日异常</div>\n            <span\n              data-v-6723c96e\n              class=\"card-panel-num\"\n            >{{welcomeInitData.errorCount >9 ? welcomeInitData.errorCount:'0'+welcomeInitData.errorCount}}</span>\n          </div>\n        </div>\n      </el-col>\n    </el-row>\n    <el-card class=\"welcome-card note\" style=\"width: calc(49% - 10px);margin-right: 10px;\">\n      <div slot=\"header\" class=\"clearfix\">\n        <span>操作指南</span>\n      </div>\n      <div class=\"text item\">\n        <i class=\"el-icon-edit\"></i>、在vue.config.js中配置项目端口号，以及代理后端API项目域名。\n      </div>\n      <div class=\"text item\">\n        <i class=\"el-icon-edit\"></i>、在global.js中配置授权方案global.IS_IDS4。\n      </div>\n      <div class=\"text item\">\n        <i class=\"el-icon-edit\"></i>、动态添加页面以及权限配置，看右侧两个动图。\n      </div>\n      <div class=\"text item\">\n        <i class=\"el-icon-edit\"></i>、更多内容，查看官方文档：\n        <a\n          href=\"http://vueadmin.neters.club/.doc/\"\n          target=\"_blank\"\n        >http://vueadmin.neters.club/.doc/</a>。\n      </div>\n    </el-card>\n    <el-card class=\"welcome-card\" style=\"width: 49%;margin: 0;font-size: 14px;\">\n      <div slot=\"header\" class=\"clearfix\">\n        <span style=\"font-size: 16px;\">服务器</span>\n      </div>\n      <div class=\"text item\">环境变量：{{serverInfo.EnvironmentName}}</div>\n      <div class=\"text item\">系统架构：{{serverInfo.OSArchitecture}}</div>\n      <div class=\"text item\">ContentRootPath：{{serverInfo.ContentRootPath}}</div>\n      <div class=\"text item\">WebRootPath：{{serverInfo.WebRootPath}}</div>\n      <div class=\"text item\">.NET Core版本：{{serverInfo.FrameworkDescription}}</div>\n      <div class=\"text item\">内存占用：{{serverInfo.MemoryFootprint}}</div>\n      <div class=\"text item\">启动时间：{{serverInfo.WorkingTime}}</div>\n      <div>\n        <br />\n      </div>\n    </el-card>\n    <el-card class=\"welcome-card note\" style=\"width: 98%;margin-top:20px;\">\n      <div slot=\"header\" class=\"clearfix\">\n        <span>30天用户注册曲线图</span>\n      </div>\n\n      <el-col :span=\"24\" class=\"echarts-item\">\n        <ve-line\n          :data=\"lineChartDataIDS4\"\n          :extend=\"extend\"\n          :settings=\"lineChartSettings7Day\"\n          :mark-point=\"lineChartMarkPoint\"\n        ></ve-line>\n      </el-col>\n    </el-card>\n    <el-card class=\"welcome-card\" style=\"margin-top:20px;width: 98%;\">\n      <div slot=\"header\" class=\"clearfix\">\n        <span>\n          访问日志\n          <span style=\"font-size:12px;\">(Top 50 desc)</span>\n        </span>\n      </div>\n      <el-table\n        :data=\"welcomeInitData.logs\"\n        highlight-current-row\n        border\n        v-loading=\"listLoading\"\n        style=\"width: 100%;font-size: 12px;\"\n      >\n        <el-table-column prop=\"User\" label=\"访问者\" width=\"150px\" sortable></el-table-column>\n        <el-table-column prop=\"IP\" label=\"请求地址\" width=\"150px\"></el-table-column>\n        <el-table-column prop=\"BeginTime\" label=\"请求时间\" width=\"150px\"></el-table-column>\n        <el-table-column prop=\"API\" label=\"访问接口\" width></el-table-column>\n        <el-table-column prop=\"RequestMethod\" label=\"Method\" width=\"100px\"></el-table-column>\n        <el-table-column prop=\"OPTime\" label=\"响应时长\" width=\"100px\"></el-table-column>\n        <el-table-column prop=\"RequestData\" label=\"参数\" width></el-table-column>\n        <el-table-column prop=\"Agent\" label=\"Agent\" width=\"80\" show-overflow-tooltip>\n          <template scope=\"scope\">\n            <div style=\"text-decoration:underline;cursor:pointer;\">{{ scope.row.Agent}}</div>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <br />\n    </el-card>\n\n    <el-card class=\"welcome-card\" style=\"margin-top: 20px;width: 98%;\">\n      <div slot=\"header\" class=\"clearfix\">\n        <span>相关配置</span>\n      </div>\n\n      <el-aside>1、动态添加一个vue页面：</el-aside>\n\n      <br />\n\n      <div class=\"text item\">\n        <i class=\"el-icon-edit\"></i>、更多内容，查看博客园文档：\n        <a\n          href=\"https://www.cnblogs.com/laozhang-is-phi/p/10643993.html#autoid-2-6-0\"\n          target=\"_blank\"\n        >https://www.cnblogs.com/laozhang-is-phi/p/10643993.html#autoid-2-6-0</a>。\n      </div>\n\n      <br />\n      <hr />\n      <br />\n\n      <el-aside>2、快速配置接口权限：</el-aside>\n\n      <br />\n      <div style=\"height: 300px;overflow-y: auto;\">\n        <el-steps direction=\"vertical\">\n          <el-step title=\"步骤 1\" description=\"创建一个测试控制器 DemoController\"></el-step>\n          <el-step\n            title=\"步骤 2\"\n            description=\"修改接口路由地址，带上 [action] ，比如，/api/[controller]/[action]，编译是否正常\"\n          ></el-step>\n          <el-step title=\"步骤 3\" description=\"给需要加权限的路由api上，增加授权特性[[Authorize(Permissions.Name)]]\"></el-step>\n          <el-step title=\"步骤 4\" description=\"测试 /api/demo/get 接口，是否已经被保护\"></el-step>\n          <el-step title=\"步骤 5.1\" description=\"vueadmin 后台 配置权限：第一步：登录后台，新建api接口\"></el-step>\n          <el-step title=\"步骤 5.2\" description=\"第二步：添加一个菜单，可以是一个查询按钮，也可以是一个路由页面\"></el-step>\n          <el-step title=\"步骤 5.3\" description=\"第三步：权限分配！勾选角色和刚刚的菜单\"></el-step>\n          <el-step title=\"步骤 6\" description=\"如果后端netcore资源服务器有缓存，记得清理\"></el-step>\n          <el-step title=\"步骤 7\" description=\"重新登录Admin管理后台，访问接口，查看是否有权限\"></el-step>\n        </el-steps>\n      </div>\n\n      <br />\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport VCharts from \"v-charts\";\nVue.use(VCharts);\n\nimport applicationUserManager from \"../Auth/applicationusermanager\";\nimport {\n  getServerInfo,\n  getAccessLogs,\n  getIds4UsersGrow,\n  getActiveUsers,\n  getAchieveUsers_IS4\n} from \"../api/api\";\n\nexport default {\n  name: \"Welcome\",\n  data() {\n    return {\n      listLoading: false,\n      welcomeInitData: {},\n      serverInfo: {},\n      extend: {\n        series: {\n          label: {\n            normal: {\n              show: true\n            }\n          }\n        }\n      },\n      lineChartDataIDS4: {\n        columns: [],\n        rows: [],\n        today: 0\n      },\n      lineChartSettings7Day: {\n        metrics: [\"count\"],\n        dimension: [\"date\"]\n      },\n      lineChartMarkPoint: {\n        data: [\n          {\n            name: \"最大值\",\n            type: \"max\"\n          },\n          {\n            name: \"最小值\",\n            type: \"min\"\n          }\n        ]\n      }\n    };\n  },\n  methods: {\n    getBck(index) {\n      return `background: rgb(${43 + index * 20}, ${148 +\n        index * 10}, 255) none repeat scroll 0% 0%;`;\n    },\n    toLogs() {\n      this.$router.replace({\n        path: \"/Logs/Index\"\n      });\n    }\n  },\n  mounted() {\n    var curTime = new Date();\n    if (window.localStorage.TokenExpire) {\n      var expiretime = new Date(Date.parse(window.localStorage.TokenExpire));\n      if (curTime >= expiretime) {\n        if (global.IS_IDS4) {\n          applicationUserManager.login();\n        } else {\n          this.$router.push(\"/login\");\n        }\n      }\n    } else {\n      if (global.IS_IDS4) {\n        applicationUserManager.login();\n      } else {\n        this.$router.push(\"/login\");\n      }\n    }\n\n    getAchieveUsers_IS4({}).then(res => {\n      this.lineChartDataIDS4 = res.data.response;\n    });\n\n    getServerInfo({}).then(res => {\n      this.serverInfo = res.data.response;\n    });\n\n    getActiveUsers({}).then(res => {\n      this.welcomeInitData = res.data.response;\n    });\n  }\n};\n</script>\n\n<style scoped>\n.bg-blue-sub-item {\n  max-width: 120px !important;\n  height: 50px;\n  float: left;\n  color: #fff;\n  font-size: 15px;\n  line-height: 50px;\n  padding: 0 10px;\n}\n.note .text {\n  font-size: 14px;\n}\n\n.note .item {\n  margin-bottom: 18px;\n}\n</style>\n\n<style scoped>\n.panel-group {\n  margin-top: 18px;\n}\n.card-panel-col {\n  margin-bottom: 32px;\n  width: 115px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n  margin-right: 2%;\n  float: right;\n}\n\n.card-panel {\n  height: 108px;\n  font-size: 12px;\n  position: relative;\n  overflow: hidden;\n  color: #666;\n  background: #fff;\n  box-shadow: 4px 4px 40px rgba(0, 0, 0, 0.05);\n  border-color: rgba(0, 0, 0, 0.05);\n}\n\n.card-panel .card-panel-icon-wrapper {\n  color: #fff;\n}\n\n.card-panel .card-panel .icon-people {\n  background: #40c9c6;\n}\n\n.card-panel .card-panel .icon-message {\n  background: #36a3f7;\n}\n\n.card-panel .card-panel .icon-money {\n  background: #f4516c;\n}\n\n.card-panel .card-panel .icon-shopping {\n  background: #34bfa3;\n}\n\n.card-panel .icon-people {\n  color: #40c9c6;\n}\n\n.card-panel .icon-message {\n  color: #36a3f7;\n}\n\n.card-panel .icon-money {\n  color: #f4516c;\n}\n\n.card-panel .icon-shopping {\n  color: #34bfa3;\n}\n\n.card-panel .card-panel-icon-wrapper {\n  float: left;\n  margin: 14px 0 0 14px;\n  padding: 16px;\n  transition: all 0.38s ease-out;\n  border-radius: 6px;\n}\n\n.card-panel .card-panel-icon {\n  float: left;\n  font-size: 48px;\n}\n\n.card-panel .card-panel-description {\n  float: left;\n  font-weight: bold;\n  margin-left: 30px;\n  margin-top: 20px;\n}\n.card-panel .card-panel-description .card-panel-text {\n  line-height: 18px;\n  color: rgba(0, 0, 0, 0.45);\n  font-size: 16px;\n  margin-bottom: 12px;\n}\n\n.card-panel .card-panel-description .card-panel-num {\n  font-size: 36px;\n  color: #f4516c;\n}\n.extoday {\n  cursor: pointer;\n}\n.card-acuser-num {\n  font-size: 36px;\n  color: #40c9c6;\n}\n\n@media (max-width: 550px) {\n  .card-panel-description {\n    display: none;\n  }\n\n  .card-panel-icon-wrapper {\n    float: none !important;\n    width: 100%;\n    height: 100%;\n    margin: 0 !important;\n  }\n  .card-panel-icon-wrapper .svg-icon {\n    display: block;\n    margin: 14px auto !important;\n    float: none !important;\n  }\n}\n</style>"],"sourceRoot":"src\\views"}]}