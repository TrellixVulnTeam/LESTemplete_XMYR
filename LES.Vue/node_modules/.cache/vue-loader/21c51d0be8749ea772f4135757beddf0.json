{"remainingRequest":"C:\\框架\\Blog.Admin-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\框架\\Blog.Admin-master\\src\\views\\Blog\\Detail.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\框架\\Blog.Admin-master\\src\\views\\Blog\\Detail.vue","mtime":1610332596000},{"path":"C:\\框架\\Blog.Admin-master\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\框架\\Blog.Admin-master\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\框架\\Blog.Admin-master\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\框架\\Blog.Admin-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\框架\\Blog.Admin-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.warp {\n  background: #fff;\n  padding-top: 20px;\n  width: 90%;\n  margin: 0 auto;\n}\n.ql-container.ql-snow,\n.ql-editor.ql-blank {\n  min-height: 500px !important;\n}\n",{"version":3,"sources":["Detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Detail.vue","sourceRoot":"src\\views\\Blog","sourcesContent":["<template>\n  <div>\n    <el-row class=\"warp\">\n      <!--\n            Form 组件提供了表单验证的功能，只需要通过 rule 属性传入约定的验证规则，并 Form-Item 的 prop 属性设置为需校验的字段名即可。具体可以参考官网：http://element.eleme.io/#/zh-CN/component/form\n      -->\n      <el-col :span=\"24\" class=\"warp-main\">\n        <el-form ref=\"infoForm\" :model=\"infoForm\" :rules=\"rules\" label-width=\"120px\">\n          <el-form-item label=\"标题\" prop=\"btitle\">\n            <el-input v-model=\"infoForm.btitle\"></el-input>\n          </el-form-item>\n\n          <el-form-item label=\"分类\">\n            <el-select v-model=\"infoForm.bcategory\" placeholder=\"请选择文章分类\">\n              <el-option label=\"技术博文\" value=\"技术博文\"></el-option>\n            </el-select>\n          </el-form-item>\n\n          <el-form-item label=\"作者\" prop=\"bsubmitter\">\n            <el-input v-model=\"infoForm.bsubmitter\"></el-input>\n          </el-form-item>\n          <!--使用编辑器\n          -->\n          <el-form-item label=\"详细\" prop=\"bcontent\">\n            <div class=\"edit_container\">\n              <quill-editor\n                v-model=\"infoForm.bcontent\"\n                ref=\"myQuillEditor\"\n                class=\"editer\"\n                :options=\"editorOption\"\n                @ready=\"onEditorReady($event)\"\n              ></quill-editor>\n            </div>\n          </el-form-item>\n\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"onSubmit\">确认提交</el-button>\n          </el-form-item>\n        </el-form>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport { quillEditor } from \"vue-quill-editor\"; //调用编辑器\n// require styles\nimport \"quill/dist/quill.core.css\";\nimport \"quill/dist/quill.snow.css\";\nimport \"quill/dist/quill.bubble.css\";\nimport { getBlogDeatil, editBlog } from \"../../api/api\";\n\nexport default {\n  data() {\n    return {\n      id: this.$route.params.id,\n      infoForm: {\n        btitle: \"\",\n        bsubmitter: \"\",\n        bcategory: \"技术博文\",\n        bcontent: \"\"\n      },\n      editorOption: {},\n      //表单验证\n      rules: {\n        btitle: [{ required: true, message: \"请输入标题\", trigger: \"blur\" }],\n        bcontent: [\n          { required: true, message: \"请输入详细内容\", trigger: \"blur\" }\n        ]\n      }\n    };\n  },\n  computed: {\n    editor() {\n      return this.$refs.myQuillEditor.quill;\n    }\n  },\n  mounted() {\n    //初始化\n    var para = { id: this.id };\n    getBlogDeatil(para).then(res => {\n      this.infoForm = res.data.response;\n    });\n  },\n  methods: {\n    onEditorReady(editor) {},\n    onSubmit() {\n      //提交\n      //this.$refs.infoForm.validate，这是表单验证\n      this.$refs.infoForm.validate(valid => {\n        if (valid) {\n          console.log(this.infoForm);\n          var postPara = this.infoForm;\n\n          editBlog(postPara).then(res => {\n            if (res.data.success) {\n              this.$notify({\n                type: \"success\",\n                message: \"修改成功!\",\n                duration: 3000\n              });\n              this.$router.replace(`/Blog/Blogs`);\n            } else {\n              var errorMsg = res.data.msg;\n              this.$message({\n                type: \"error\",\n                message: errorMsg,\n                showClose: true\n              });\n            }\n          });\n        }\n      });\n    }\n  },\n  components: {\n    //使用编辑器\n    quillEditor\n  }\n};\n</script>\n\n<style>\n.warp {\n  background: #fff;\n  padding-top: 20px;\n  width: 90%;\n  margin: 0 auto;\n}\n.ql-container.ql-snow,\n.ql-editor.ql-blank {\n  min-height: 500px !important;\n}\n</style>\n"]}]}